# Book.java
```
package booksearch.vo;

// VO

public class Book {
    private String bisbn;
    private String btitle;
    private int bprice;
    private String bauthor;

    Book() {
    }

    public Book(String bisbn, String btitle, int bprice, String bauthor) {
        this.bauthor = bauthor;
        this.bprice = bprice;
        this.btitle = btitle;
        this.bisbn = bisbn;
    }

    public String getBisbn() {
        return bisbn;
    }

    public void setBisbn(String bisbn) {
        this.bisbn = bisbn;
    }

    public String getBtitle() {
        return btitle;
    }

    public void setBtitle(String btitle) {
        this.btitle = btitle;
    }

    public int getBprice() {
        return bprice;
    }

    public void setBprice(int bprice) {
        this.bprice = bprice;
    }

    public String getBauthor() {
        return bauthor;
    }

    public void setBauthor(String bauthor) {
        this.bauthor = bauthor;
    }
}
```
# tableviewexample.fxml
```
<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.FlowPane?>
<?import javafx.scene.text.Font?>


<BorderPane fx:controller="booksearch.JavaFXTableViewController" maxHeight="-Infinity" maxWidth="-Infinity" minHeight="-Infinity" minWidth="-Infinity" prefHeight="400.0" prefWidth="600.0" xmlns="http://javafx.com/javafx/23.0.1" xmlns:fx="http://javafx.com/fxml/1">
   <center>
      <TableView fx:id="tableView" editable="true" prefHeight="308.0" prefWidth="600.0" BorderPane.alignment="CENTER">
        <columns>
          <TableColumn fx:id="isbnCol" prefWidth="75.0" text="ISBN" />
          <TableColumn fx:id="titleCol" prefWidth="215.5" text="책 제목" />
            <TableColumn fx:id="priceCol" prefWidth="157.0" text="책 가격" />
            <TableColumn fx:id="authorCol" prefWidth="151.5" text="책 저자" />
        </columns>
      </TableView>
   </center>
   <bottom>
      <FlowPane prefHeight="72.0" prefWidth="600.0" BorderPane.alignment="CENTER">
         <children>
            <Label text="검색어">
               <font>
                  <Font size="24.0" />
               </font>
               <FlowPane.margin>
                  <Insets left="100.0" top="20.0" />
               </FlowPane.margin>
            </Label>
            <TextField fx:id="searchTxt">
               <FlowPane.margin>
                  <Insets left="30.0" top="20.0" />
               </FlowPane.margin>
            </TextField>
            <Button fx:id="searchBtn" mnemonicParsing="false" text="검색">
               <FlowPane.margin>
                  <Insets left="30.0" top="20.0" />
               </FlowPane.margin>
               <font>
                  <Font size="20.0" />
               </font>
            </Button>
            <Button fx:id="deleteBtn" mnemonicParsing="false" text="삭제">
               <FlowPane.margin>
                  <Insets left="20.0" top="20.0" />
               </FlowPane.margin>
               <font>
                  <Font size="20.0" />
               </font>
            </Button>
         </children>
      </FlowPane>
   </bottom>
</BorderPane>
```
# JavaFXTableViewController.java
```
package booksearch;

import javafx.collections.FXCollections;
import javafx.collections.ObservableList;
import javafx.fxml.FXML;
import javafx.fxml.Initializable;
import javafx.scene.Parent;
import javafx.scene.control.Button;
import javafx.scene.control.TableColumn;
import javafx.scene.control.TableView;
import booksearch.vo.Book;
import javafx.scene.control.TextField;
import javafx.scene.control.cell.PropertyValueFactory;
import javafx.scene.control.cell.TextFieldTableCell;
import javafx.util.converter.IntegerStringConverter;

import java.net.URL;
import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.PreparedStatement;
import java.sql.ResultSet;
import java.util.ResourceBundle;

public class JavaFXTableViewController implements Initializable {

    @FXML
    private TableView<Book> tableView;

    @FXML private Button searchBtn;
    @FXML private Button deleteBtn;
    @FXML private TableColumn<Book, String> isbnCol;
    @FXML private TableColumn<Book, String> titleCol;
    @FXML private TableColumn<Book, Integer> priceCol;
    @FXML private TableColumn<Book, String> authorCol;
    @FXML private TextField searchTxt;

    @Override
    public void initialize(URL url, ResourceBundle resourceBundle) {
        // FXML이 load될 때 메소드가 호출됨
        // 버튼이 클릭되면 TableView에 데이터를 넣어야 한다.
        isbnCol.setCellValueFactory(new PropertyValueFactory<>("bisbn"));
        titleCol.setCellValueFactory(new PropertyValueFactory<>("btitle"));
        priceCol.setCellValueFactory(new PropertyValueFactory<>("bprice"));
        authorCol.setCellValueFactory(new PropertyValueFactory<>("bauthor"));

        // 각 컬럼에 대해 CellFactory 설정 (수정 가능하도록)
        tableView.setEditable(true);
        titleCol.setCellFactory(TextFieldTableCell.forTableColumn()); // String 타입
        priceCol.setCellFactory(TextFieldTableCell.forTableColumn(new IntegerStringConverter())); // Integer 타입
        authorCol.setCellFactory(TextFieldTableCell.forTableColumn()); // String 타입

        ObservableList<Book> books =
                FXCollections.observableArrayList();

        try {
            Connection con = null;
            PreparedStatement pstmt = null;
            ResultSet rs = null;
            // [1단계] JDBC Driver 로딩
            Class.forName("oracle.jdbc.driver.OracleDriver");
            // [2단계] DB 연결
            String jdbcURL = "jdbc:oracle:thin:@localhost:1521:xe";
            String ID = "C##2";
            String PW = "1234";
            con = DriverManager.getConnection(jdbcURL, ID, PW);
            // [3단계] SQL 구문 작성
            String SQL = "SELECT * FROM BOOK";
            pstmt = con.prepareStatement(SQL);
            // [4단계] Query 실행
            rs = pstmt.executeQuery();
            // [5단계] 결과 처리
            while (rs.next()) {
                books.add(new Book(rs.getString("bisbn"),
                                    rs.getString("btitle"),
                                    rs.getInt("bprice"),
                                    rs.getString("bauthor")));
            }
            tableView.setItems(books);
            rs.close();
            pstmt.close();
            con.close();
        } catch(Exception e) {
            e.printStackTrace();
        }

        // 검색 버튼 핸들러
        searchBtn.setOnAction(event -> {
            try {
                tableView.getItems().clear();
                ResultSet rs = null;
                Connection con = null;
                PreparedStatement pstmt = null;
                // [1단계] JDBC Driver 로딩
                Class.forName("oracle.jdbc.driver.OracleDriver");
                // [2단계] DB 연결
                String jdbcURL = "jdbc:oracle:thin:@localhost:1521:xe";
                String ID = "C##2";
                String PW = "1234";
                con = DriverManager.getConnection(jdbcURL, ID, PW);
                // [3단계] SQL 구문 작성
                String SQL = "SELECT * FROM BOOK ";
                SQL += "WHERE btitle LIKE ?";
                pstmt = con.prepareStatement(SQL);
                pstmt.setString(1, "%" + searchTxt.getText() + "%");
                // [4단계] Query 실행
                rs = pstmt.executeQuery();
                // [5단계] 결과 처리
                while (rs.next()) {
                    books.add(new Book(rs.getString("bisbn"),
                            rs.getString("btitle"),
                            rs.getInt("bprice"),
                            rs.getString("bauthor")));
                }
                tableView.setItems(books);
                rs.close();
                pstmt.close();
                con.close();
            } catch(Exception e) {
                e.printStackTrace();
            }
        });

        // 삭제 버튼 이벤트 핸들러
        deleteBtn.setOnAction(event -> {
            Book selectedBook = tableView.getSelectionModel().getSelectedItem(); // 선택된 항목 가져오기
            if (selectedBook != null) {
                try {
                    Connection con = null;
                    PreparedStatement pstmt = null;
                    // [1단계] JDBC Driver 로딩
                    Class.forName("oracle.jdbc.driver.OracleDriver");
                    // [2단계] DB 연결
                    String jdbcURL = "jdbc:oracle:thin:@localhost:1521:xe";
                    String ID = "C##2";
                    String PW = "1234";
                    con = DriverManager.getConnection(jdbcURL, ID, PW);
                    // [3단계] SQL 구문 작성
                    String SQL = "DELETE FROM BOOK WHERE bisbn = ?";
                    pstmt = con.prepareStatement(SQL);
                    pstmt.setString(1, selectedBook.getBisbn());
                    // [4단계] Query 실행
                    pstmt.executeUpdate();
                    // [5단계] 결과 처리
                    books.remove(selectedBook); // ObservableList에서 삭제
                    // tableView.refresh(); // 테이블 갱신 (선택 사항)
                    pstmt.close();
                    con.close();
                } catch(Exception e) {
                    e.printStackTrace();
                }
                books.remove(selectedBook); // ObservableList에서 삭제
                tableView.refresh(); // 테이블 갱신 (선택 사항)
            }
        });

        // 컬럼 수정 이벤트 핸들러 설정
        titleCol.setOnEditCommit(event -> {
            Book selectedBook = event.getRowValue();
            String newTitle = event.getNewValue();
            selectedBook.setBtitle(newTitle); // ObservableList에서 데이터 수정
            updateDatabase("btitle", newTitle, selectedBook.getBisbn());
        });

        priceCol.setOnEditCommit(event -> {
            Book selectedBook = event.getRowValue();
            Integer newPrice = event.getNewValue();
            selectedBook.setBprice(newPrice); // ObservableList에서 데이터 수정
            updateDatabase("bprice", newPrice.toString(), selectedBook.getBisbn());
        });

        authorCol.setOnEditCommit(event -> {
            Book selectedBook = event.getRowValue();
            String newAuthor = event.getNewValue();
            selectedBook.setBauthor(newAuthor); // ObservableList에서 데이터 수정
            updateDatabase("bauthor", newAuthor, selectedBook.getBisbn());
        });
    }

    private void updateDatabase(String columnName, String newValue, String bisbn) {
        Connection con = null;
        PreparedStatement pstmt = null;

        try {
            // 데이터베이스 연결 설정
            Class.forName("oracle.jdbc.driver.OracleDriver");
            String jdbcURL = "jdbc:oracle:thin:@localhost:1521:xe";
            String ID = "C##2";
            String PW = "1234";
            con = DriverManager.getConnection(jdbcURL, ID, PW);

            // SQL UPDATE 구문 작성 및 실행
            String sql = "UPDATE BOOK SET " + columnName + " = ? WHERE bisbn = ?";
            pstmt = con.prepareStatement(sql);
            pstmt.setString(1, newValue);
            pstmt.setString(2, bisbn);

            int rowsAffected = pstmt.executeUpdate();
            if (rowsAffected > 0) {
                System.out.println("데이터베이스 업데이트 성공: " + columnName + "=" + newValue);
            } else {
                System.out.println("업데이트 실패: ISBN=" + bisbn);
            }
        } catch (Exception e) {
            e.printStackTrace();
        } finally {
            try {
                if (pstmt != null) pstmt.close();
                if (con != null) con.close();
            } catch (Exception e) {
                e.printStackTrace();
            }
        }
    }
}
```
