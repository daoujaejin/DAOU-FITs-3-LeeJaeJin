# web 언어

- **HTML (내용, 구조)**
    
    1999년 W3C에서 HTML 4.01 버전에서 더 이상 upgrade 안하기로 함
    
    (두 가지 특성이 원인)
    
    1. 정형성이 없다.
    2. 확장성이 없다.
    
    → xml + html = `xHTML` 1.0 2000년에 시작
    
    - HTML을 발전시키려는 사람들
        
        = HTML로 웹 어플리케이션 작성 (HTML 5)
        
        (javascript가 대폭 강화)
        
        → google, apple이 들어옴 → 다시 표준이 됨
        
- **css (외관)**
- **Javascript (동적 처리)**
    
    1995년 “Mocha” → “LiveScript” → “JavaScript”
    
    Java 때문에 W3C 표준으로 등재 안됨
    
    → ECMAScript로 ECMA 표준으로 등록 (language spec)
    
    `JavaScript` = language spec + browser API
    
    1. 함수형 언어
    2. 객체지향언어
    3. prototype
    
    → 코드 작성이 쉽지 않다.
    

# jQuery

순수javasceipt로 만든 라이브러리

JS보다 쉽게 구현할 수 있다.

1. 화면 제어를 쉽게
2. event 처리를 쉽게
3. 시각적인 처리 쉽게 (css)
4. **AJAX 처리를 직관적으로 처리**

## jQuery를 이용하려면

- CDN 방식
    
    = Content Delivery Network
    
    ```java
    <script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
    ```
    
- 사용 방식

`jQuery 객체` : $(문자열로 된 select or 문서 객체(Document Object))

+`.method()` : 이미 정해져 있는 method

## Selector

- 전체 선택자
    
    `*` -> 모든 element
    
- 타입 선택자
    
    `원하는 tag명`을 이용해서 선택
    
- 아이디 선택자
    
    `#` -> 원하는 id를 가진 element를 선택 (unique한 선택)
    
- 클래스 선택자
    
    `.` -> 원하는 class를 가진 element를 선택
    
- 자식 선택자 후손 선택자
    
    `>` `공백` 으로 선택
    
    선택자는 합성할 수 있음
    
- 동위 선택자
    
    `+` →바로 다음에 나오는 형제
    
    `~` → 바로 다음에 나오는 형제 포함 나머지 모두
    

```java
function myFunc() {
    // $('*').css("color", "red");
    // $('h1, div').css("color", "blue");
    // $('li').css("color", "green");
    // $('h1, div').remove();
    // $("#busan").remove();
    // $(".myClass").css("background", "blue");
    // $("ol > li").css("color", "green");
    // $("div li").remove();
    // alert($('#kang + li').text());
    // alert($('#kang ~ li').text());
}
```

## 선택하여 입력상자 채우기

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
    <script src="js/sample.js"></script>
</head>
<body>
    <select onchange="myFunc()">
        <option>서울</option>
        <option>대구</option>
        <option>부산</option>
        <option>광주</option>
    </select>
    <br><br>
    <input type="text">
</body>
</html>
```

```jsx
function myFunc() {
    let region = $("select > option:selected").text();

    // 입력상자이기 때문에 text() 대신 val()을 사용
    // 인자 없이 val()을 사용하면 현재 입력상자 안의 값을 알아오는 기능
    // 인자를 넣어서 val()을 사용하면 인자값으로 입력상자를 채운다.
    $("input").val(region);
}
```

## 체크박스 체크 항목으로 입력상자 채우기

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
    <script src="js/sample.js"></script>
</head>
<body>
    <input type="checkbox"><span>서울</span><br>
    <input type="checkbox"><span>대전</span><br>
    <input type="checkbox"><span>대구</span><br>
    <input type="checkbox"><span>부산</span><br>
    <input id="region" type="text">
    <input type="button" value="선택된 지역 출력" onclick="myFunc()">
</body>
</html>
```

```jsx
function myFunc() {

    // 1. checkbox를 찾는다.
    //    속성을 이용해서 찾을 때는 []을 이용한다.
    $("#region").val($("[type=checkbox]:checked + span").text());
}
```

## 반복처리를 위한 method

= for문 대용으로 사용하는 메소드

```jsx
function myFunc() {

    // 체크가 된 지역을 찾아서 console에 출력하기
    // each() : 선택된 개개의 element를 반복처리하기 위한 method
    $("[type=checkbox]:checked + span").each(function (idx, item) {
        // index는 0,1,2,... for문의 첨자역할
        // item : 선택된 문서객체(Document Object) -> jQuery 객체가 아니다.
        // jQuery 객체로 바꿔서 사용해야 한다.
        console.log($(item).text() + "가 선택되었어요!");
    })
}
```

## 없는 데이터를 추가하기

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
    <script src="js/sample.js"></script>
</head>
<body>
    <ul>
        <li>홍길동</li>
        <li>신사임당</li>
        <li>강감찬</li>
    </ul>
    <input type="text" id="name">
    <input type="button" value="사람 추가" onclick="myFunc()">
</body>
</html>
```

```jsx
function myFunc() {

    // 체크가 된 지역을 찾아서 console에 출력하기
    // each() : 선택된 개개의 element를 반복처리하기 위한 method
    let newName = $("#name").val()
    // <li>김연아</li>
    let li = $("<li></li>").text(newName)
    // 원하는 위치에 널으면 된다.
    // 1. append(): 제일 마지막 자식으로 붙인다.
    $("ul").append(li)
    // 2. prepend(): 제일 처음 자식으로 붙인다.
    $("ul").prepend(li)
    // 3. after(): 다으 형제로 붙인다.
    // 4. before(): 앞 형제로 붙인다.
    $("ul > li:last").before(li)
}
```

## 이미지 넣기

```jsx
function myFunc() {

    // 이미지를 생성하기
    // <img src="img/dog.jpg" width=200>
    let myImg = $("<img />").attr("src","img/dog.jpg").attr("width","200");
    $("#name").after(myImg);
}
```

## 이벤트 등록

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
    <script src="js/sample.js"></script>
</head>
<body>
    <h1>Hello World!</h1>
    <input type="button" value="이벤트 처리" onclick="myFunc()">
</body>
</html>
```

```jsx
function myFunc() {

    $("h1").on("click", function() {
        alert($(this).text());
    });
}
```

- this의 원래 의미: 현재 객체에 대한 reference
- jQuery event 처리 코드 내에서 this: 이벤트 소스에 대한 문서객체
    
    → 이 this를 jQuery 객체로 변환해서 method 이용
    

# web 개발의 변화

- RoundTrip
    
    전통적인 웹 구현 방식
    
    → 주고받는 데이터량이 많다.
    
- application으로 해결
    - Front-End web application
        
        HTML, css, JS
        
    - Back-End web application
        
        data만 client에 보냄
        
    
    장점: 주고받는 데이터가 적다
    
    단점: 구 부분의 전문적인 개발자가 따로 필요하다.
    

## AJAX

- jQuery를 이용해서 Back-End에서 데이터를 불러옴
- 데이터 형태 : JSON → 표준(문자열)
    
    JavaScript Object Notation (자바스크립트 객체 표현법)
    
- AJAX 기법으로 특정 API를 호출해서 JSON을 받아서 객체로 변환하여 원하는 데이터를 활용한다.

### AJAX 호출

```jsx
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
  <!-- jQuery CDN -->
  <script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
  <script src="js/boxOffice.js"></script>
</head>
<body>
  <h1>1등 영화 제목</h1>

  <input type="button" value="AJAX 호출" onclick="myFunc()">
</body>
</html>
```

```jsx
function myFunc() {
    // 버튼 클릭하면 실행

    // jQuery로 AJAX 호출 실행
    // 어떤 API를 호출할지, GET방식인지, POST방식인지, 파라미터는 어떤건지, ...
    // 이 정보들을 JavaScript 객체로 만들어서 사용한다.
    $.ajax({
        async: true, // 비동기 / 동기 방식 선택 (기본값은 비동기)
        url: "http://www.kobis.or.kr/kobisopenapi/webservice/rest/boxoffice/searchDailyBoxOfficeList.json",
        type: "GET",
        data: {
            key: "6a88e9c71125c3650d91c7b20990fdae",
            targetDt: "20250218"
        },
        dataType: "json", // 서버가 보내주는 결과데이터가 JSON이라는 것을 의미
        success: function(result) {
            // result라는 매개변수로 서버가 보내준
            // JSON 데이터가 변환된 객체가 매핑된다.
            // alert(result.boxOfficeResult.dailyBoxOfficeList[0].movieNm);
            $("h1").text(result.boxOfficeResult.dailyBoxOfficeList[0].movieNm);
        },
        error: function() {
            alert("뭔가 이상해요!");
        }
    })
}
```

## 박스오피스 데이터

http://www.kobis.or.kr/kobisopenapi/webservice/rest/boxoffice/searchDailyBoxOfficeList.json?key=[6a88e9c71125c3650d91c7b20990fdae](https://www.kobis.or.kr/kobisopenapi/homepg/apikey/ckUser/saveApikeyForm.do?apiKey=6a88e9c71125c3650d91c7b20990fdae)&targetDt=20250218
